<!DOCTYPE html>
<html lang="x-default">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jesús Lautaro Careglio Albornoz - Select Language</title>

    <meta name="robots" content="noindex, nofollow" />
    <meta
      name="description"
      content="Select your preferred language - Jesús Lautaro Careglio Albornoz, Full-Stack Web Developer"
    />

    <link rel="canonical" href="https://jlcareglio.github.io/" />
    <link
      rel="alternate"
      hreflang="es"
      href="https://jlcareglio.github.io/es/"
    />
    <link
      rel="alternate"
      hreflang="en"
      href="https://jlcareglio.github.io/en/"
    />
    <link
      rel="alternate"
      hreflang="x-default"
      href="https://jlcareglio.github.io/"
    />

    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://jlcareglio.github.io/" />
    <meta
      property="og:title"
      content="Jesús Lautaro Careglio Albornoz - Select Language"
    />
    <meta
      property="og:description"
      content="Select your preferred language - Jesús Lautaro Careglio Albornoz, Full-Stack Web Developer"
    />
    <meta property="og:image" content="https://github.com/jlcareglio.png" />
    <meta property="og:image:type" content="image/jpeg" />
    <meta property="og:image:width" content="460" />
    <meta property="og:image:height" content="460" />
    <meta
      property="og:image:alt"
      content="Profile picture of Jesús Lautaro Careglio Albornoz"
    />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:url" content="https://jlcareglio.github.io/" />
    <meta
      property="twitter:title"
      content="Jesús Lautaro Careglio Albornoz - Select Language"
    />
    <meta
      property="twitter:description"
      content="Select your preferred language - Jesús Lautaro Careglio Albornoz, Full-Stack Web Developer"
    />
    <meta
      property="twitter:image"
      content="https://github.com/jlcareglio.png"
    />

    <link
      rel="icon"
      href="https://github.com/jlcareglio.png?size=192"
      type="image/png"
      sizes="192x192"
    />
    <link
      rel="icon"
      href="https://github.com/jlcareglio.png?size=32"
      type="image/png"
      sizes="32x32"
    />
    <link
      rel="icon"
      href="https://github.com/jlcareglio.png?size=16"
      type="image/png"
      sizes="16x16"
    />
    <link
      rel="apple-touch-icon"
      href="https://github.com/jlcareglio.png?size=180"
    />

    <style>
      :root {
        --background-color: #2e2a2b;
        --text-color: #e7dbc6;
        --heading-color: #f4ecd8;
        --link-color: #e4b77a;
        --link-visited-color: #9e7548;
        --border-color: #5c4b51;
        --heading-background: #3a3637;
      }

      @media (prefers-color-scheme: light) {
        :root {
          --background-color: #e0d8c0;
          --text-color: #4a3f44;
          --heading-color: #2e2a2b;
          --link-color: #66340a;
          --link-visited-color: #472706;
          --border-color: #a39081;
          --heading-background: #dbd7c7;
        }
      }

      body {
        font-family: CONSOLAS, Arial, sans-serif;
        text-align: center;
        padding: 40px 20px;
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.5;
        color: var(--text-color);
        background-color: var(--background-color);
      }

      h1,
      h2 {
        color: var(--heading-color);
      }

      a {
        color: var(--link-color);
        text-decoration: none;
      }

      a:visited {
        color: var(--link-visited-color);
      }

      .language-selector {
        margin: 30px 0;
        padding: 20px;
        border: 1px solid var(--border-color);
        border-radius: 8px;
        background-color: var(--heading-background);
      }

      .language-option {
        display: inline-block;
        margin: 10px;
        padding: 15px 30px;
        border: 2px solid var(--border-color);
        border-radius: 4px;
        background-color: var(--heading-background);
        color: var(--text-color);
        text-decoration: none;
        font-size: 18px;
        transition: border-color 0.3s ease;
        cursor: pointer;
      }

      .language-option:hover {
        border-color: var(--link-color);
      }

      .language-flag {
        margin-right: 8px;
        font-size: 20px;
      }

      .hidden {
        display: none;
      }
    </style>
  </head>

  <body>
    <div class="hidden">
      <h1>Jesús Lautaro Careglio Albornoz - Full-Stack Web Developer</h1>
      <p>
        Welcome to my personal website and CV. Please select your preferred
        language to continue.
      </p>
    </div>

    <div id="detecting" class="language-selector">
      <h2>Detecting your language...</h2>
      <p>Please wait while we detect your preferred language.</p>
    </div>

    <div id="selector" class="language-selector hidden">
      <h2>Select your language</h2>
      <p>Please choose your preferred language:</p>
      <div>
        <a
          href="/en/"
          class="language-option"
          data-lang="en"
          aria-label="English"
        >
          <span class="language-flag">🇺🇸</span> English
        </a>
        <a
          href="/es/"
          class="language-option"
          data-lang="es"
          aria-label="Español"
        >
          <span class="language-flag">🇦🇷</span> Español
        </a>
      </div>
    </div>

    <div id="redirecting-en" class="language-selector hidden">
      <h2>Redirecting...</h2>
      <p>
        Taking you to the selected version of the site. If you are not
        redirected automatically, please
        <a href="#" id="manual-redirect-en">click here</a>.
      </p>
    </div>
    <div id="redirecting-es" class="language-selector hidden">
      <h2>Redirigiendo...</h2>
      <p>
        Llevándote a la versión seleccionada del sitio. Si no eres redirigido
        automáticamente, por favor
        <a href="#" id="manual-redirect-es">haz clic aquí</a>.
      </p>
    </div>

    <script>
      function detectLanguage() {
        const userLang = navigator.language || navigator.userLanguage;
        const supportedLangs = ["en", "es"];
        const langCode = userLang.split("-")[0];
        if (supportedLangs.includes(langCode)) {
          redirectToLanguage(langCode);
          return;
        }
        showLanguageSelector();
      }

      function showLanguageSelector() {
        document.getElementById("detecting").classList.add("hidden");
        document.getElementById("selector").classList.remove("hidden");
      }

      function redirectToLanguage(lang) {
        const redirectingElement = document.getElementById(
          `redirecting-${lang}`
        );
        redirectingElement.classList.remove("hidden");
        document.getElementById("detecting").classList.add("hidden");
        const manualLink = document.getElementById(`manual-redirect-${lang}`);
        manualLink.href = `/${lang}/`;
        window.location.replace(`/${lang}/`);
      }

      document.addEventListener("DOMContentLoaded", function () {
        const langButtons = document.querySelectorAll(".language-option");
        langButtons.forEach((button) => {
          button.addEventListener("click", function (e) {
            e.preventDefault();
            const lang = this.getAttribute("data-lang");
            redirectToLanguage(lang);
          });
        });
        detectLanguage();
      });
    </script>
  </body>
</html>
